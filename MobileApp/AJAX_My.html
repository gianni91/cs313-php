<!DOCTYPE html>
<html>
<head>
  <title>AJAX Demo</title>
  <script> 
    function start()
    {
	document.getElementById("sSmall").checked = true;
	loadText();
    }

/*    function colorDiv()
    {
	document.getElementById("table1").style = "background-color:white";	
    }*/

    function loadText()
    {
      var myRequest = new XMLHttpRequest();
      myRequest.onreadystatechange=function()
      {    
        if (myRequest.readyState==4 && myRequest.status==200)
        {  
          var rText = myRequest.responseText;
	  var dogList = JSON.parse(rText);

	  var selections = ["blank"];
	  if(document.getElementById("sSmall").checked == true) {
		selections.push("small");}
	  if(document.getElementById("sMedium").checked == true) {
		selections.push("medium");}
	  if(document.getElementById("sLarge").checked == true) {
		selections.push("large");}


          var tableString = "<table border=\x224\x22 cellpadding=\x2210\x22 id=\x22table1\x22>" +
                             "<tr><th>Breed</th><th>Size</th>" +
                             "<th>Fur Length</th>" + "<th>Activity</th>";

	  for(var i = 0; i < dogList.dogs.length; i++)
 	  {
  	     for(var j = 0; j < selections.length; j++) 
             {
	        if(dogList.dogs[i].size == selections[j]) {
                  tableString += ("<tr><td>" +
                  dogList.dogs[i].breed + "</td><td>" +
                  dogList.dogs[i].size + "</td><td>" +
                  dogList.dogs[i].fur + "</td><td>" +
                  dogList.dogs[i].activity + "</td></tr>");
		}
	     }
	  }
          tableString += "</table>";


          document.getElementById("name_list").innerHTML = tableString;
        }
      }
      myRequest.open("GET","json.txt",true);
      myRequest.send();
    }
   </script>
</head>
<body onload="start()" style="text-align:center; background:skyBlue">
<h1> Narrow your selection </h1>
  <div id="name_list" align="center"></div><br>
  <input type ="checkbox" name="sizeSelect" value="small" onchange="loadText()" id="sSmall">Small
  <input type ="checkbox" name="sizeSelect" value="medium" onchange="loadText()" id="sMedium">Medium
  <input type ="checkbox" name="sizeSelect" value="large" onchange="loadText()" id="sLarge">Large

</body>
</html>

