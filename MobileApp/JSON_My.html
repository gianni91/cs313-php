<html>
<head>
  <title>JSON Demo</title>
  <script>
    var studentNum = 0;
    studentList = [];

    function addStudent()
    {
       if ( document.getElementById("firstNameInput").value.match(/\w/) && document.getElementById("lastNameInput").value.match(/\w/) && document.getElementById("majorInput").value.match(/\w/))
       {
	  var student = {
		firstName: document.getElementById("firstNameInput").value,
		lastName: document.getElementById("lastNameInput").value,
		major: document.getElementById("majorInput").value};

	  studentList.push(student);
       }
       display();
    }

    function save()
    {
	   if(typeof(Storage) !== "undefined") {
	      var My_Obj_Text = JSON.stringify(studentList);
	      localStorage.setItem("storedStudentList", My_Obj_Text);
	   }
	   else 
	   {
	     document.getElementById("div1").innerHTML = "Your browser doesn't support local storage"; 
	   } 
    }

    function load()
    {
        var Obj_text = localStorage.getItem("storedStudentList") ;
	studentList = JSON.parse(Obj_text);
	display();
    }

    function clearList()
    {
	document.getElementById("div1").innerHTML = "tesing";
	while(studentList.length > 0)
        {
	   studentList.pop();
        }
        display();
    }

    function display()
    {
	document.getElementById("div1").innerHTML = "";
	for( var i = 0; i < studentList.length; i++)
	   document.getElementById("div1").innerHTML += studentList[i].firstName + " " + studentList[i].lastName + ", " + studentList[i].major + "<br>";
    }

  </script>
</head>
<body style="text-align:center">
  <h1>JSON Example</h1>
  <p>
    JSON is an organized way of storing JSON Object data. <br /><br />

    First Name: <input type="text" id="firstNameInput" > </input> <br>
    Last Name: <input type="text" id="lastNameInput" > </input> <br>
    Major: <input type="text" id="majorInput" > </input> <br>    	
    <button type="button" onclick="addStudent()"> Add student </button> <br><br>

    <button type="button" onclick="save()"> Save </button>
    <button type="button" onclick="load()"> Load </button> 
    <button type="button" onclick="clearList()"> Clear </button> <br><br>
  
    <div id="div1"> </div>
  </p>      
</body>
</html>

